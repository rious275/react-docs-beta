#반응 효과의 수명 주기

effect 는 component와 생명주기가 다르다.
component 는 마운트, 업데이트, 마운트 해제가 될수 있고,
effect는 동기화 시작, 동기화 중지

이전 내용들이 많다..

## 각 효과는 별도의 동기화 프로세스를 나타낸다.

예를 들어 사용자가 방을 방문할 때 이벤트를 전송한다고 가정해 볼때. Effect가 이미 있으므로 거기에 이벤트를 추가하고 싶겠지만
```jsx
function ChatRoom({ roomId }) {
  useEffect(() => {
    logVisit(roomId); // 이부분
    const connection = createConnection(serverUrl, roomId);
    connection.connect();
    return () => {
      connection.disconnect();
    };
  }, [roomId]);
  // ...
}
```
기존 connection에 다른 종속이 추가되면 logVisit도 호출되어 의도하지 않은 기능이 생길수 있다.
두개는 별도로.


## 반응 값에 "반응"하는 효과
```jsx
const serverUrl = 'https://localhost:1234';

function ChatRoom({ roomId }) {
  useEffect(() => {
    const connection = createConnection(serverUrl, roomId);
    connection.connect();
    return () => {
      connection.disconnect();
    };
  }, [roomId]);
  // ...
}
``` 
serverUrl 이 종속성이 필요하지 않은 이유는 항상 고정된 값이기 때문.

## 구성 요소 본문에 선언된 모든 변수는 반응형입니다.
useEffect의 [] 에 들어가는 모든 변수는 종속성이다. 

## React는 모든 반응 값을 종속성으로 지정했는지 확인합니다.
종속성이 제대로 안되어있으면 lint오류를 띄워준다.