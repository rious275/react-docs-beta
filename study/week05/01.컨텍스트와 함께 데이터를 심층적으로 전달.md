#컨텍스트와 함께 데이터를 심층적으로 전달

props를 사용하여 상태를 전달할때 컴포넌트의 depth가 깊다면 드릴링이 발생한다.

컨텍스트 사용.

1.만들기

```jsx
// LevelContext.js
import { createContext } from "react";

export const LevelContext = createContext(1);
```

2. import

```jsx
import { useContext } from "react";
import { LevelContext } from "./LevelContext.js";

export default function Heading({ children }) {
  const level = useContext(LevelContext);
  switch (level) {
    case 1:
      return <h1>{children}</h1>;
    case 2:
      return <h2>{children}</h2>;
    case 3:
      return <h3>{children}</h3>;
    case 4:
      return <h4>{children}</h4>;
    case 5:
      return <h5>{children}</h5>;
    case 6:
      return <h6>{children}</h6>;
    default:
      throw Error("Unknown level: " + level);
  }
}
```

3. provider

```jsx
import { LevelContext } from "./LevelContext.js";

export default function Section({ level, children }) {
  return (
    <section className="section">
      <LevelContext.Provider value={level}>{children}</LevelContext.Provider>
    </section>
  );
}
```
4. render 
```jsx
import Heading from './Heading.js';
import Section from './Section.js';

export default function Page() {
  return (
    <Section level={1}>
      <Heading>Title</Heading>
      <Section level={2}>
        <Heading>Heading</Heading>
        <Heading>Heading</Heading>
        <Heading>Heading</Heading>
        <Section level={3}>
          <Heading>Sub-heading</Heading>
          <Heading>Sub-heading</Heading>
          <Heading>Sub-heading</Heading>
          <Section level={4}>
            <Heading>Sub-sub-heading</Heading>
            <Heading>Sub-sub-heading</Heading>
            <Heading>Sub-sub-heading</Heading>
          </Section>
        </Section>
      </Section>
    </Section>
  );
}
```

선언과 동시에 사용
select 을 사용할때마다 알아서 level 값이 증가
```jsx
import { useContext } from 'react';
import { LevelContext } from './LevelContext.js';

export default function Section({ children }) {
  const level = useContext(LevelContext);
  return (
    <section className="section">
      <LevelContext.Provider value={level + 1}>
        {children}
      </LevelContext.Provider>
    </section>
  );
}
```

컨텍스트를 사용하기 전에 고려해야 할점
- 단순하지 않은 컴포넌트에 12개의 props를 전달하는 것은 드문 일이 아니다. 가시적이다. 
=> 12개는 문제가 있음... 많아야 4개정도...

- children 으로 보낼 수 있는 건 children 으로 보내기


<b>컨텍스트 사용 사례</b>
- 테마 설정
- 계정 정보 
- 라우팅
- 상태관리 => 이건 상황에 따라 다름. 

과제1 
컨텍스트 만들고 사용. 
https://codesandbox.io/s/serene-monad-vq91i3?file=/App.js